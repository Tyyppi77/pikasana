(this.webpackJsonppikasana=this.webpackJsonppikasana||[]).push([[0],{21:function(e,a,t){},23:function(e){e.exports=JSON.parse('["Aate tai -ismi","Aikakausi","Alkoholijuoma","Alkuaine","Ammatti","Arvonimi","Astia","Aterin","Automerkki","Autourheilija","Diktaattori","Draamasarja","Elektroniikkavalmistaja","Elokuva","El\xe4in","Energial\xe4hde","Fantasia- tai satuhahmo","Fine dining -ravintola","Harrastus","Hedelm\xe4","Historiallinen henkil\xf6","Huonekalu","Hyve","Hy\xf6nteinen","Ikean huonekalu","Isovanhempi","Jalkine","James Bond -elokuva","Joki","Julkisuuden henkil\xf6","Juoma","Juusto","J\xe4rjest\xf6","J\xe4\xe4kiekkoilija","J\xe4\xe4tel\xf6","Kalalaji","Kapellimestari","Kieli","Kirja","Kirjoitusv\xe4line","Kitaristi","Komediasarja","Koomikko","Kotiel\xe4in","Kotimainen kirjailija","Kotimainen n\xe4yttelij\xe4","Kotimainen poliitikko","Kouluaine","Kukka","Kulkuv\xe4line","Kuvataiteilija","Lastenohjelma","Lattiamateriaali","Laulaja","Laulu","Laulukilpailu","Lautapeli","Leivonnainen","Lent\xe4v\xe4","Lihas","Lintu","Luu","Maakunta","Makeinen","Makeutusaine","Maksuv\xe4line","Materiaali","Meri","Mittayksikk\xf6","Mobiilisovellus","Musiikkigenre","Musikaali","Muusikko","Neste","Nis\xe4k\xe4s","Nobel-voittaja","N\xe4ht\xe4vyys","Ohjaaja","Olympiavoittaja","Ooppera","Operaattori","Pahe","Pallo","Perinne","Pianisti","Pikaruokapaikka","Pizzat\xe4yte","Puolue","Puulaji","P\xe4\xe4hine","P\xe4\xe4kaupunki","Radiokanava","Rakennus","Rakennusmateriaali","Ruoan valmistusv\xe4line","Ruoka","Saari","Sairaus","Salaattiaines","Sanonta","Sarjakuvahahmo","Satamakaupunki","Sieni","Siivousv\xe4line","Sivistyssana","Soitin","Sosiaalinen media","Sota tai kriisi","Sukulainen","Sukupuuttoon kuollut","Suojav\xe4line","Suomen presidentti","Suoratoistopalvelu","S\xe4hk\xf6laite","S\xe4velt\xe4j\xe4","Taivaankappale","Tanssilaji","Tiedustelupalvelu","Toimittaja","Tove Janssonin luoma hahmo","Tunne","Tutkinto","Ty\xf6paikka","Ty\xf6v\xe4line","T\xe4htikuvio","Ulkoilualue","Ulkomainen kirjailija","Ulkomainen n\xe4yttelij\xe4","Ulkomainen poliitikko","Urheilija","Urheilulaji","Urheiluv\xe4line","USA:n osavaltio","Uskonto","Uuniruoka","Vaatekappale","Valtio Aasiassa","Valtio Afrikassa","Valtio Etel\xe4-Amerikassa","Valtio Euroopassa","Valtion p\xe4\xe4mies","Valuutta","Vegaaninen proteiini","Vero","Videopeli","Vihannes","Viulisti","Vuori(sto)","V\xe4ri","Yhtye"]')},31:function(e,a,t){},38:function(e,a,t){"use strict";t.r(a);var n=t(0),i=t.n(n),r=t(14),s=t.n(r),c=(t(31),t(25)),o=t(3),l=(t(21),t(22)),u=t(11),j=t(26),d=t(23),m=function(e){var a="aaabcdeefghhiijjkkklllmmnnnnoopprrsssttuuvvwy\xe4\xf6";return a[Math.floor(Math.random()*a.length)]},b=function(){return{topics:Object(j.a)(d).slice(0,25),currentRound:0,totalRounds:25,currentLetter:"-",previousLetter:"",waitDuration:3,scoreAddition:1,scoredPlayers:[]}},h=Object(u.b)({name:"game",initialState:b(),reducers:{nextTopic:function(e){e.currentRound+=1,e.scoreAddition=1,e.currentLetter="-",e.waitDuration=3,e.scoredPlayers=[]},requestNewLetter:function(e){e.previousLetter=e.currentLetter,e.currentLetter="-",e.waitDuration=1,e.scoreAddition+=1},revealNewLetter:function(e){do{e.currentLetter=m()}while(e.currentLetter===e.previousLetter)},markPlayerAsScored:function(e,a){e.scoredPlayers.push(a.payload)},resetGame:function(e){return b()}}}),p=h.actions,k=p.nextTopic,O=p.requestNewLetter,v=p.revealNewLetter,f=p.markPlayerAsScored,x=p.resetGame,y=h.reducer,g=t(9),N=Object(u.b)({name:"players",initialState:[],reducers:{addPlayer:function(e,a){e.push({name:a.payload,score:0}),e.sort((function(e,a){var t=e.name.toUpperCase(),n=a.name.toUpperCase();return t<n?-1:t>n?1:0}))},removePlayer:function(e,a){return e.filter((function(e){return e.name!==a.payload}))},awardScore:function(e,a){return e.map((function(e){return e.name===a.payload.name?Object(g.a)(Object(g.a)({},e),{},{score:e.score+a.payload.addition}):e}))},clearScores:function(e){return e.map((function(e){return Object(g.a)(Object(g.a)({},e),{},{score:0})}))}}}),S=N.actions,L=S.addPlayer,P=S.removePlayer,A=S.awardScore,w=S.clearScores,K=N.reducer,T=t(4),V=t(1),C=function(){var e=Object(T.c)((function(e){return e.game})),a=Object(o.f)(),t=Object(T.b)(),n="-"===e.currentLetter,i=e.currentRound===e.totalRounds-1,r=i?"Lopeta":"Uusi aihe";return Object(V.jsxs)("div",{className:"round-info",children:[Object(V.jsxs)("span",{className:"topic-parent",children:[Object(V.jsxs)("h5",{className:"topic-title",children:["Aihe (",e.currentRound+1,"/",e.totalRounds,"):"]}),Object(V.jsx)("h3",{className:"topic",children:e.topics[e.currentRound]})]}),Object(V.jsx)("div",{className:"letter-wrapper",children:n?Object(V.jsx)(l.CountdownCircleTimer,{isPlaying:!0,duration:e.waitDuration,size:300,strokeWidth:20,colors:[["#ffffff",1]],trailColor:"rgba(0, 0, 0, 0.1)",onComplete:function(){t(v())},children:function(e){return e.remainingTime}}):Object(V.jsx)("h1",{className:"letter ".concat(n?"":"bounce"),children:e.currentLetter})}),Object(V.jsxs)("span",{className:"round-bottom",children:[Object(V.jsx)("button",{type:"button",onClick:function(){t(O())},disabled:n||e.scoredPlayers.length>0,className:"link-button",children:"Uusi kirjain"}),Object(V.jsx)("button",{type:"button",onClick:function(){i?a.push("/results"):t(k())},disabled:n,className:"new-topic",children:r})]})]})},M=function(e){var a=e.player,t=Object(T.c)((function(e){return e.game})),n=Object(T.b)(),i=void 0!==t.scoredPlayers.find((function(e){return e===a.name}));return Object(V.jsxs)("button",{className:"player",onClick:function(){n(A({name:a.name,addition:t.scoreAddition})),n(f(a.name))},disabled:i,children:[a.name," (",a.score,")"]})},R=function(){var e=Object(T.c)((function(e){return e.game})),a=Object(T.c)((function(e){return e.players}));return Object(V.jsxs)("div",{className:"players",children:[Object(V.jsx)("header",{children:Object(V.jsxs)("h4",{children:["Anna pisteit\xe4 (jaossa ",e.scoreAddition,")"]})}),Object(V.jsx)("div",{className:"players-grid",children:a.map((function(e){return Object(V.jsx)(M,{player:e},e.name)}))})]})},U=function(){return Object(V.jsxs)("div",{className:"page game",children:[Object(V.jsx)(C,{}),Object(V.jsx)(R,{})]})},J=t(17),E=function(e,a){var t=Object(n.useState)(""),i=Object(J.a)(t,2),r=i[0],s=i[1];return[{type:e,value:r,onChange:function(e){s(e.target.value),a(e.target.value)}},function(){s("")}]},D=function(e){var a=e.name,t=Object(T.b)();return Object(V.jsx)("button",{className:"player",onClick:function(){t(P(a))},children:a})},H=function(){var e=Object(T.c)((function(e){return e.players})),a=Object(T.b)(),t=Object(o.f)(),n=E("text",(function(){})),i=Object(J.a)(n,2),r=i[0],s=i[1];return Object(V.jsxs)("div",{className:"page launch",children:[Object(V.jsxs)("header",{className:"title",children:[Object(V.jsx)("h1",{className:"title-bounce",children:"Pikasana"}),Object(V.jsx)("button",{type:"button",onClick:function(){t.push("/game")},disabled:e.length<2,children:"Aloita"})]}),Object(V.jsxs)("div",{className:"players",children:[Object(V.jsxs)("header",{children:[Object(V.jsx)("form",{className:"input-group",onSubmit:function(t){t.preventDefault();var n=r.value;r.value.length>0&&void 0===e.find((function(e){return e.name===n}))&&(a(L(n)),s())},children:Object(V.jsx)("input",Object(g.a)({placeholder:"Lis\xe4\xe4 pelaaja",name:"player",id:"player"},r))}),Object(V.jsxs)("span",{className:"title-line",children:[Object(V.jsxs)("h1",{children:["Pelaajat (",e.length,"):"]}),Object(V.jsx)("h3",{children:"Poista napauttamalla"})]})]}),Object(V.jsx)("div",{className:"players-grid",children:e.map((function(e){return Object(V.jsx)(D,{name:e.name},e.name)}))})]})]})},z=function(e){var a=e.player;return Object(V.jsxs)("li",{children:[a.name," (",a.score,")"]})},F=function(){var e=Object(T.c)((function(e){return e.players})).concat();e.sort((function(e,a){return a.score-e.score}));var a=e[0],t=e.slice(1);return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)("h2",{className:"bounce",children:["Voittaja: ",a.name," (",a.score,")"]}),Object(V.jsx)("ol",{start:"2",children:t.map((function(e){return Object(V.jsx)(z,{player:e},e.name)}))})]})},I=function(){var e=Object(T.b)(),a=Object(o.f)(),t=function(){e(w()),e(x())};return Object(V.jsxs)("div",{className:"page results",children:[Object(V.jsx)("header",{children:Object(V.jsx)("h1",{children:"Tulokset"})}),Object(V.jsx)(F,{}),Object(V.jsxs)("div",{class:"actions",children:[Object(V.jsx)("button",{onClick:function(){t(),a.push("/game")},children:"Revanssi"}),Object(V.jsx)("button",{onClick:function(){t(),a.push("/")},children:"Etusivu"})]})]})};var q=function(){return Object(V.jsx)(c.a,{basename:"/pikasana",children:Object(V.jsxs)(o.c,{children:[Object(V.jsx)(o.a,{path:"/game",children:Object(V.jsx)(U,{})}),Object(V.jsx)(o.a,{path:"/results",children:Object(V.jsx)(I,{})}),Object(V.jsx)(o.a,{path:"/",children:Object(V.jsx)(H,{})})]})})},B=Object(u.a)({reducer:{players:K,game:y}});s.a.render(Object(V.jsx)(i.a.StrictMode,{children:Object(V.jsx)(T.a,{store:B,children:Object(V.jsx)(q,{})})}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.abd8d9f2.chunk.js.map